---
import 'photoswipe/style.css'
const fotosGaleria = [
  {
    href: '/images/galeria/paella.jpg',
    width: '1020',
    height: '574',
    description: 'example descrition'
  },
  {
    href: '/images/galeria/Canelones.webp',
    width: '1920',
    height: '1080',
    description: 'example descrition'
  },
  {
    href: '/images/galeria/Ensalada_mixta.webp',
    width: '1920',
    height: '1080',
    description: 'example descrition'
  },
  {
    href: 'images/galeria/torre-eiffel.webp',
    width: '1920',
    height: '1080',
    description: 'example descrition'
  },
  {
    href: 'images/galeria/Muslo_relleno.webp',
    width: '1920',
    height: '1080',
    description: 'example descrition'
  },
  {
    href: 'images/galeria/paella.jpg',
    width: '1920',
    height: '1080',
    description: 'example descrition'
  },
  {
    href: 'images/galeria/Pollo_Asado.webp',
    width: '1920',
    height: '1080',
    description: 'example descrition'
  },
  {
    href: 'images/galeria/torre-eiffel.webp',
    width: '1920',
    height: '1080',
    description: 'example descrition'
  },
  {
    href: 'images/galeria/paella.jpg',
    width: '1920',
    height: '1080',
    description: 'example descrition'
  }
]
---

<section class='galeria container'>
  <h2 class='galeria--title'>Galeria</h2>
  <div class='gridGaleria' id='galeria-imgs'>
    {
      fotosGaleria.map((foto, i) => (
        <a
          href={foto.href}
          data-pswp-width={foto.width}
          data-pswp-height={foto.height}
          data-cropped='true'
          target='_blank'
        >
          <img
            loading='lazy'
            decoding='async'
            class='imagenGaleria'
            src={foto.href}
            alt={foto.description}
          />
        </a>
      ))
    }
  </div>
</section>

<script>
  import PhotoSwipeLightbox from 'photoswipe/lightbox'

  const lightbox = new PhotoSwipeLightbox({
    gallery: '#galeria-imgs',
    children: 'a',
    pswpModule: () => import('photoswipe')
  })
  document.addEventListener(
    'astro:page-load',
    () => {
      if (lightbox) lightbox.init()
    },
    { once: false }
  )
</script>

<style>
  .galeria {
    margin-top: var(--size-2xl);
  }
  .galeria--title {
    font-family: var(--font-primary);
    font-size: var(--size-xl);
    margin-bottom: var(--size-base);
  }
  .gridGaleria {
    columns: 4 320px;
    column-gap: 0.5em;
  }
  .imagenGaleria {
    max-width: 100%;
    display: block;
    margin-bottom: 0.5em;
    border-radius: 6px;
    transition: box-shadow 0.8s ease;
  }
  .imagenGaleria:hover {
    box-shadow: 0px 0px 0px 2px #ffff;
  }
</style>
